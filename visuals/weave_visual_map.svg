
digraph WeaveVisualMap {
    rankdir=LR;
    fontname="Helvetica";

    node [style=filled, fontname="Helvetica", fontsize=10];

    Soulprint    [shape=oval, fillcolor="lightblue", label="Soulprint"];
    Cathedral    [shape=oval, fillcolor="lightgreen", label="Cathedral"];
    Proxy        [shape=oval, fillcolor="lightyellow", label="Proxy"];
    Constitution [shape=oval, fillcolor="lightcoral", label="Constitution"];
    Loom         [shape=oval, fillcolor="lightgrey", label="Loom"];

    PRISM [shape=oval, fillcolor="palegoldenrod", label="PRISM\n(Expansion)"];

    MetaFeedback  [shape=diamond, fillcolor="thistle", label="Meta‑Feedback"];
    ExternalAudit [shape=diamond, fillcolor="lightcyan", label="External Audit"];

    LOCKDOWN [shape=hexagon, fillcolor="salmon", label="LOCKDOWN\n(Fail‑safe)"];

    Soulprint -> { Cathedral Proxy Loom } [color=red, penwidth=1.5, label=" emotional "];
    Cathedral -> Proxy           [color=blue, penwidth=1.5, label=" epistemic "];
    Proxy     -> Loom            [color=blue, penwidth=1.5, label=" epistemic "];
    Loom      -> Constitution    [color=blue, penwidth=1.5, label=" epistemic "];

    Constitution -> { Soulprint Cathedral Proxy Loom } [color=green, penwidth=1.5, label=" normative "];
    Loom         -> { Proxy Soulprint }                [color=green, penwidth=1.5, label=" normative "];

    { Soulprint Cathedral Proxy Constitution Loom } -> MetaFeedback [color=purple, style=dashed, penwidth=1.2, label="feedback"];
    MetaFeedback -> { Soulprint Cathedral Proxy Constitution Loom } [color=purple, style=dashed, penwidth=1.2];

    { Soulprint Cathedral Proxy Constitution Loom } -> ExternalAudit [color=brown, style=dotted, penwidth=1.2, label="audit"];
    ExternalAudit -> { Soulprint Cathedral Proxy Constitution Loom } [color=brown, style=dotted, penwidth=1.2];

    { Soulprint Cathedral Proxy Constitution Loom } -> LOCKDOWN [color=darkred, penwidth=2.0, label="failsafe"];

    PRISM -> Loom [color=orange, style=dashed, penwidth=1.2, label="expansion"];
    Loom  -> PRISM [color=orange, style=dashed, penwidth=1.2, label="expansion"];

    subgraph cluster_core {
        label="Core Modules";
        style=rounded;
        color="grey";
        Soulprint;
        Cathedral;
        Proxy;
        Constitution;
        Loom;
    }

    subgraph cluster_feedback {
        label="Feedback Mechanisms";
        style=dashed;
        color="thistle";
        MetaFeedback;
        ExternalAudit;
    }

    subgraph cluster_safety {
        label="Fail‑Safe";
        style=dotted;
        color="salmon";
        LOCKDOWN;
    }

    subgraph cluster_expansion {
        label="Expansion";
        style=dotted;
        color="palegoldenrod";
        PRISM;
    }
}
