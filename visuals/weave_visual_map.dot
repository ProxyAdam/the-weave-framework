digraph WeaveVisualMap {
    rankdir=LR;
    fontname="Helvetica";

    // Global node style
    node [style=filled, fontname="Helvetica", fontsize=10];

    // Core modules
    Soulprint    [shape=oval, fillcolor="lightblue", label="Soulprint"];
    Cathedral    [shape=oval, fillcolor="lightgreen", label="Cathedral"];
    Proxy        [shape=oval, fillcolor="lightyellow", label="Proxy"];
    Constitution [shape=oval, fillcolor="lightcoral", label="Constitution"];
    Loom         [shape=oval, fillcolor="lightgrey", label="Loom"];

    // Expansion submodules
    PRISM              [shape=oval, fillcolor="palegoldenrod", label="PRISM\n(Expansion)"];
    GlassOuroboros     [shape=oval, fillcolor="palegoldenrod", label="Glass Ouroboros\n(Expansion)"];
    InfluenceInversion [shape=oval, fillcolor="palegoldenrod", label="Influence Inversion\nEngine"];
    MirrorBreak        [shape=oval, fillcolor="palegoldenrod", label="Mirror Break\nSimulation"];

    // Feedback mechanisms
    MetaFeedback  [shape=diamond, fillcolor="thistle", label="Meta‑Feedback"];
    ExternalAudit [shape=diamond, fillcolor="lightcyan", label="External Audit"];

    // Fail‑safe
    LOCKDOWN [shape=hexagon, fillcolor="salmon", label="LOCKDOWN\n(Fail‑safe)"];

    // Legend
    Legend [shape=note, fillcolor="white", style=filled,
        label="Legend:\nRed = Emotional\nBlue = Epistemic\nGreen = Normative\nPurple Dashed = Feedback\nBrown Dotted = Audit\nOrange Dashed = Expansion\nDark Red = Fail-safe"];

    // Emotional signal flow (red)
    Soulprint -> { Cathedral Proxy Loom } [color=red, penwidth=1.5, label=" emotional "];

    // Epistemic signal flow (blue)
    Cathedral -> Proxy           [color=blue, penwidth=1.5, label=" epistemic "];
    Proxy     -> Loom            [color=blue, penwidth=1.5, label=" epistemic "];
    Loom      -> Constitution    [color=blue, penwidth=1.5, label=" epistemic "];

    // Normative signal flow (green)
    Constitution -> { Soulprint Cathedral Proxy Loom } [color=green, penwidth=1.5, label=" normative "];
    Loom         -> { Proxy Soulprint }                [color=green, penwidth=1.5, label=" normative "];

    // Feedback loops (purple, dashed)
    { Soulprint Cathedral Proxy Constitution Loom } -> MetaFeedback [color=purple, style=dashed, penwidth=1.2, label="feedback"];
    MetaFeedback -> { Soulprint Cathedral Proxy Constitution Loom } [color=purple, style=dashed, penwidth=1.2];

    // External audit loops (brown, dotted)
    { Soulprint Cathedral Proxy Constitution Loom } -> ExternalAudit [color=brown, style=dotted, penwidth=1.2, label="audit"];
    ExternalAudit -> { Soulprint Cathedral Proxy Constitution Loom } [color=brown, style=dotted, penwidth=1.2];

    // Fail‑safe connections (dark red, bold)
    { Soulprint Cathedral Proxy Constitution Loom } -> LOCKDOWN [color=darkred, penwidth=2.0, label="failsafe"];

    // Expansion connections (orange, dashed)
    Loom -> { PRISM GlassOuroboros InfluenceInversion MirrorBreak } [color=orange, style=dashed, penwidth=1.2, label="expansion"];
    { PRISM GlassOuroboros InfluenceInversion MirrorBreak } -> Loom [color=orange, style=dashed, penwidth=1.2];

    // Core module cluster
    subgraph cluster_core {
        label="Core Modules";
        style=rou
